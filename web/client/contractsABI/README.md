# ConnectX Contract Integration

This directory contains all the necessary files for integrating ConnectX smart contracts with your frontend.

## 📁 Files Overview

### Core Files
- **`contractAddresses.json`** - Deployed contract addresses on Avalanche Fuji
- **`contractConfig.ts`** - Network configuration and contract addresses
- **`contractTypes.ts`** - TypeScript interfaces for all contract interactions

### Contract ABIs (Generated)
- **`bountyMarketplace.json`** - BountyMarketplace contract ABI
- **`developerReputation.json`** - DeveloperReputation contract ABI  
- **`developerBadge.json`** - DeveloperBadge contract ABI
- **`simpleBountyVerifier.json`** - SimpleBountyVerifier contract ABI

### Integration Files
- **`contractHooks.ts`** - React hooks for contract interactions (needs JSON import fix)
- **`index.ts`** - Main export file

## 🚀 Deployed Contracts (Avalanche Fuji)

```typescript
const DEPLOYED_CONTRACTS = {
  bountyMarketplace: '0x5b3f1e6047Cd8e0ab83b795e682F6Fe8090c0cca',
  developerReputation: '0xa214C70f0352315ebD22656Fbc755D44473e80f6',
  developerBadge: '0x04CE909c5688D63C3cB4b7381D367d4bfe5992Be',
  simpleBountyVerifier: '0x7c4250160BCC04e07D883424d3D07D925bC40D12'
};
```

## 💡 Usage Examples

### 1. Import Contract Configuration
```typescript
import { CONTRACT_ADDRESSES, NETWORK_CONFIG } from './contractsABI/contractConfig';
```

### 2. Import Contract Types
```typescript
import type { 
  BountyStructure, 
  DeveloperStats, 
  CreateBountyParams 
} from './contractsABI/contractTypes';
```

### 3. Direct ABI Usage
```typescript
// Import ABI directly from JSON file
import BountyMarketplaceABI from './contractsABI/bountyMarketplace.json';

// Use with wagmi
const { data } = useReadContract({
  address: CONTRACT_ADDRESSES.BOUNTY_MARKETPLACE,
  abi: BountyMarketplaceABI,
  functionName: 'getBounty',
  args: [bountyId]
});
```

### 4. Using with Wagmi Hooks
```typescript
import { useReadContract, useWriteContract } from 'wagmi';
import { CONTRACT_ADDRESSES } from './contractsABI/contractConfig';
import BountyMarketplaceABI from './contractsABI/bountyMarketplace.json';

function CreateBounty() {
  const { writeContract } = useWriteContract();
  
  const createBounty = async (title: string, description: string, reward: bigint) => {
    await writeContract({
      address: CONTRACT_ADDRESSES.BOUNTY_MARKETPLACE,
      abi: BountyMarketplaceABI,
      functionName: 'createBounty',
      args: [title, description, deadline, skills, verifier],
      value: reward
    });
  };
  
  return (
    // Your component JSX
  );
}
```

## 🔧 Setup Requirements

### 1. TypeScript Configuration
Add to your `tsconfig.json`:
```json
{
  "compilerOptions": {
    "resolveJsonModule": true,
    "allowSyntheticDefaultImports": true
  }
}
```

### 2. Wagmi Configuration
Ensure your wagmi config includes Avalanche Fuji:
```typescript
import { avalancheFuji } from 'viem/chains';

const config = createConfig({
  chains: [avalancheFuji],
  // ... other config
});
```

## 🎯 Contract Features

### BountyMarketplace
- Create bounties with rewards
- Claim and complete bounties
- Integration with reputation and badge systems

### DeveloperReputation  
- Track developer scores and statistics
- Streak management and tier progression
- Skill-based reputation tracking

### DeveloperBadge
- NFT achievement badges
- Metadata and role-based minting
- Badge enumeration and transfers

### SimpleBountyVerifier
- Manual verification system
- GitHub integration support
- Batch verification operations

## 📊 Gas Optimization

All contracts were deployed with gas optimization:
- **25% gas price reduction** applied
- **Total gas used**: 13,074,553
- **Estimated cost**: ~0.000000000013074553 AVAX

## 🔗 Network Information

- **Chain ID**: 43113 (Avalanche Fuji Testnet)
- **RPC URL**: https://api.avax-test.network/ext/bc/C/rpc
- **Block Explorer**: https://testnet.snowtrace.io
- **Currency**: AVAX

## 🐛 Known Issues

1. **JSON Import Errors**: TypeScript may have issues importing JSON files directly. Use dynamic imports or copy ABI arrays if needed.

2. **Hook Dependencies**: The `contractHooks.ts` file needs proper JSON import configuration.

## 📝 Next Steps

1. Fix JSON import issues in TypeScript configuration
2. Test contract interactions in development
3. Add error handling and loading states
4. Implement event listening for contract updates
5. Add transaction confirmation UI components

---

*Generated by ConnectX deployment system with gas optimization*